<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则相关 | 前端小黑屋</title>
    <meta name="description" content="云中桥的技术整理">
    <script src="https://cdn.bootcss.com/moment.js/2.24.0/moment.js"></script>
  <link rel="stylesheet" href="/style.css">
    
    <link rel="preload" href="/assets/css/0.styles.c45c56dd.css" as="style"><link rel="preload" href="/assets/js/app.9c603a09.js" as="script"><link rel="preload" href="/assets/js/2.4e45071f.js" as="script"><link rel="preload" href="/assets/js/7.fbbdf704.js" as="script"><link rel="prefetch" href="/assets/js/10.914d3fc9.js"><link rel="prefetch" href="/assets/js/11.a88928bf.js"><link rel="prefetch" href="/assets/js/12.bd8e1b0a.js"><link rel="prefetch" href="/assets/js/13.5e8beab9.js"><link rel="prefetch" href="/assets/js/14.7901ca89.js"><link rel="prefetch" href="/assets/js/15.a9541e3d.js"><link rel="prefetch" href="/assets/js/16.633010eb.js"><link rel="prefetch" href="/assets/js/17.db3a68f5.js"><link rel="prefetch" href="/assets/js/18.7e8ac168.js"><link rel="prefetch" href="/assets/js/19.354b72b3.js"><link rel="prefetch" href="/assets/js/20.33ad1590.js"><link rel="prefetch" href="/assets/js/21.eb3b3380.js"><link rel="prefetch" href="/assets/js/22.22ec1317.js"><link rel="prefetch" href="/assets/js/23.ea4887b6.js"><link rel="prefetch" href="/assets/js/24.ed3deb05.js"><link rel="prefetch" href="/assets/js/25.767efbcf.js"><link rel="prefetch" href="/assets/js/26.c0968fe2.js"><link rel="prefetch" href="/assets/js/27.5ae79123.js"><link rel="prefetch" href="/assets/js/3.0d0286a5.js"><link rel="prefetch" href="/assets/js/4.0382bb4f.js"><link rel="prefetch" href="/assets/js/5.315fda48.js"><link rel="prefetch" href="/assets/js/6.387b32b9.js"><link rel="prefetch" href="/assets/js/8.42cd2aae.js"><link rel="prefetch" href="/assets/js/9.5ca67251.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c45c56dd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端小黑屋</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/mine/review.html" class="nav-link">我的复习</a></div><div class="nav-item"><a href="/mine/collect.html" class="nav-link">好文收藏</a></div><div class="nav-item"><a href="https://juejin.im/user/5c6e666be51d457fd033e984/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/chenqf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/chenqf/technical-summary" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/mine/review.html" class="nav-link">我的复习</a></div><div class="nav-item"><a href="/mine/collect.html" class="nav-link">好文收藏</a></div><div class="nav-item"><a href="https://juejin.im/user/5c6e666be51d457fd033e984/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/chenqf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/chenqf/technical-summary" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/%E6%B7%B1%E6%8B%B7%E8%B4%9D/" class="sidebar-link">深拷贝</a></li><li><a href="/js/%E6%AD%A3%E5%88%99/" class="active sidebar-link">正则相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#历史局限" class="sidebar-link">历史局限</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#量词" class="sidebar-link">量词</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#简写形式" class="sidebar-link">简写形式</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#惰性量词" class="sidebar-link">惰性量词</a></li></ul></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#模糊匹配" class="sidebar-link">模糊匹配</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#位置匹配" class="sidebar-link">位置匹配</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#单词边界" class="sidebar-link">单词边界</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#开头和结尾" class="sidebar-link">开头和结尾</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#断言" class="sidebar-link">断言</a></li></ul></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#选择" class="sidebar-link">选择</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#引用" class="sidebar-link">引用</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#分组" class="sidebar-link">分组</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#属性" class="sidebar-link">属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#静态属性" class="sidebar-link">静态属性</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#实例属性" class="sidebar-link">实例属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#方法" class="sidebar-link">方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#test" class="sidebar-link">test</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#exec" class="sidebar-link">exec</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#match" class="sidebar-link">match</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#search" class="sidebar-link">search</a></li><li class="sidebar-sub-header"><a href="/js/%E6%AD%A3%E5%88%99/#replace" class="sidebar-link">replace</a></li></ul></li></ul></li><li><a href="/js/Object%20&amp;%20Function/" class="sidebar-link">Object &amp; Function</a></li><li><a href="/js/%E6%9F%AF%E9%87%8C%E5%8C%96/" class="sidebar-link">柯里化</a></li><li><a href="/js/%E7%BB%84%E5%90%88%E5%92%8C%E7%AE%A1%E9%81%93/" class="sidebar-link">组合和管道</a></li><li><a href="/js/Object%E6%9D%83%E9%99%90/" class="sidebar-link">Object权限整理</a></li><li><a href="/js/Proxy/" class="sidebar-link">Proxy</a></li><li><a href="/js/Event%20Bus/" class="sidebar-link">Event Bus</a></li><li><a href="/js/%E8%BD%AC%E5%8C%96%E9%A9%BC%E5%B3%B0%E5%91%BD%E5%90%8D/" class="sidebar-link">转化驼峰命名</a></li><li><a href="/js/%E5%AE%9E%E7%8E%B0instanceOf/" class="sidebar-link">实现instanceOf</a></li><li><a href="/js/%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7/" class="sidebar-link">运算符优先级</a></li><li><a href="/js/%E6%8E%A8%E8%8D%90%E4%B9%A6%E5%86%99/" class="sidebar-link">推荐书写</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>架构相关</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="正则相关"><a href="#正则相关" aria-hidden="true" class="header-anchor">#</a> 正则相关</h1> <h2 id="历史局限"><a href="#历史局限" aria-hidden="true" class="header-anchor">#</a> 历史局限</h2> <p>ECMAScript 3 规定，同一段代码表示的正则对象，每次返回都是相同的对象</p> <p>ECMAScript 5 规定，代码表示的正则对象，每次都返回新对象</p> <p>Safari 5 及以前版本、Chrome 7 及以前版本对正则执行 typeof 存在兼容问题，返回 function</p> <h2 id="量词"><a href="#量词" aria-hidden="true" class="header-anchor">#</a> 量词</h2> <p><code>{n,m}</code>表示至少出现<code>n</code>次，至多出现<code>m</code>次(包括<code>n</code>和<code>m</code>)</p> <h3 id="简写形式"><a href="#简写形式" aria-hidden="true" class="header-anchor">#</a> 简写形式</h3> <ul><li><code>*</code> 等价于{0,}。即任意多个。</li> <li><code>+</code> 等价于{1,}。即至少一个</li> <li><code>?</code> 等价于{0,1}。即有一个或者没有</li> <li><code>{m}</code> 等价于{m,m}</li></ul> <p>以上均为<code>贪婪量词</code>，像巴蛇吞象那样，一口吞下整个字符串，发现吞不下（匹配不了），再从后面一点点吐出来（去掉最后一个字符，再看这时这个整个字符串是否匹配，不断这样重复直到长度为零）</p> <h3 id="惰性量词"><a href="#惰性量词" aria-hidden="true" class="header-anchor">#</a> 惰性量词</h3> <p>在量词后面加<code>?</code></p> <ul><li><code>\*?</code></li> <li><code>\+?</code></li> <li><code>??</code></li> <li><code>{n,m}?</code></li></ul> <p><code>惰性量词</code>,由于太懒了，先吃了前面第一个字符，如果不饱再捏起多添加一个（发现不匹配，就读下第二个，与最初的组成一个有两个字符串的字符串再尝试匹配，如果再不匹配，再吃一个组成拥有三个字符的字符串……）</p> <h2 id="模糊匹配"><a href="#模糊匹配" aria-hidden="true" class="header-anchor">#</a> 模糊匹配</h2> <ul><li><code>[...]</code> 方括号内的任意字符</li> <li><code>[^...]</code> 不在方括号内的任意字符</li> <li><code>\d</code> 等价于 [0-9]。表示是一位数字。digit 的首字母。</li> <li><code>\D</code> 等价于 [^0-9]。</li> <li><code>\w</code> 等价于 [0-9a-zA-Z_]。表示数字、大小写字母和下划线。word的首字母，也称单词字符。</li> <li><code>\W</code> 等价于 [^0-9a-zA-Z_]。</li> <li><code>\s</code> 等价于 [ \t\v\n\r\f]。表示空白符，包括空格、水平制表符、垂直制表符、换行符、回车符、换页符。记+ 忆方式：s是space character的首字母。</li> <li><code>\S</code> 等价于 [^ \t\v\n\r\f]。</li> <li><code>.</code> 等价于[^\n\r\u2028\u2029]。点是通配符，表示几乎任意字符。</li> <li><code>[\u4e00-\u9fa5]</code>用于匹配汉字</li></ul> <h2 id="位置匹配"><a href="#位置匹配" aria-hidden="true" class="header-anchor">#</a> 位置匹配</h2> <h3 id="单词边界"><a href="#单词边界" aria-hidden="true" class="header-anchor">#</a> 单词边界</h3> <p><code>\b</code>，单词为<code>boundary</code>。表示匹配一个位置，一边是<code>\w</code>，一边是<code>\W</code>。</p> <p><code>\B</code>，非单词边界。</p> <p>一个例子：</p> <p><img src="/assets/img/1.0fe6e6fd.png" alt=""></p> <p>如上图，只能匹配到<code>you</code>无法匹配到<code>your</code></p> <h3 id="开头和结尾"><a href="#开头和结尾" aria-hidden="true" class="header-anchor">#</a> 开头和结尾</h3> <p><code>^</code>用于匹配开头位置</p> <p><code>$</code>用于匹配结尾位置</p> <h3 id="断言"><a href="#断言" aria-hidden="true" class="header-anchor">#</a> 断言</h3> <ul><li><code>(?=exp)</code>:正向先行断言</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str1 <span class="token operator">=</span> <span class="token string">&quot;bedroom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str2 <span class="token operator">=</span> <span class="token string">&quot;bedding&quot;</span><span class="token punctuation">;</span>

 <span class="token comment">//在我们捕获bed这个字符串时，抢先去看接下来的字符串是不是room</span>
<span class="token keyword">let</span> reBed <span class="token operator">=</span> <span class="token regex">/(bed(?=room))/</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reBed<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">,</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">,</span>RegExp<span class="token punctuation">.</span>$<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// true 'bed' ''</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reBed<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// false</span>
</code></pre></div><ul><li><code>(?!exp)</code>:负向先行断言</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str1 <span class="token operator">=</span> <span class="token string">&quot;bedroom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str2 <span class="token operator">=</span> <span class="token string">&quot;bedding&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> reBed <span class="token operator">=</span> <span class="token operator">/</span><span class="token punctuation">(</span><span class="token function">bed</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">!</span>room<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span>  <span class="token comment">// bed 后面不能是room</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reBed<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reBed<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre></div><h2 id="选择"><a href="#选择" aria-hidden="true" class="header-anchor">#</a> 选择</h2> <p><code>|</code>用于分隔供选择的字符，选择项的匹配顺序是从左到右，直到发现匹配项，所以 <code>/a|ab/</code> 匹配 ab 时，只能匹配一个字符</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex">/(a|ab)/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'ab'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a</span>
</code></pre></div><h2 id="引用"><a href="#引用" aria-hidden="true" class="header-anchor">#</a> 引用</h2> <p>同一正则表达式后部引用前面的子表达式 <code>\</code> 加数字</p> <p>引用指的是对匹配的文本的引用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex">/(&quot;|')[^\1]*\1+/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'444'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// true</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * 字符串去除相邻的重复项
 * 'aabbccddeexxxxaa' =&gt; 'abcdexa'
 */</span>
<span class="token keyword">function</span> <span class="token function">adjacentUnique</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\w)\1+/g</span><span class="token punctuation">,</span><span class="token string">'$1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="分组"><a href="#分组" aria-hidden="true" class="header-anchor">#</a> 分组</h2> <p>在括号前使用<code>?:</code>实现非捕获性分组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex">/(?:a|ab)c/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
</code></pre></div><h2 id="属性"><a href="#属性" aria-hidden="true" class="header-anchor">#</a> 属性</h2> <h3 id="静态属性"><a href="#静态属性" aria-hidden="true" class="header-anchor">#</a> 静态属性</h3> <ul><li><code>RegExp.lastMatch</code> <ul><li>上次匹配到的字符串</li></ul></li> <li><code>RegExp.leftContext</code> <ul><li>匹配到的字符串之前的字符串</li></ul></li> <li><code>RegExp.rightContext</code> <ul><li>匹配到的字符串之后的字符串</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> rg <span class="token operator">=</span> <span class="token regex">/\d/g</span>
rg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'a1b'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>lastMatch<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> rg <span class="token operator">=</span> <span class="token regex">/\d/g</span>
<span class="token string">'a1b2c3'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>rg<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>lastMatch<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token regex">/\d+/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc123def'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>leftContext<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// abc</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>rightContext<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// def</span>
</code></pre></div><h3 id="实例属性"><a href="#实例属性" aria-hidden="true" class="header-anchor">#</a> 实例属性</h3> <ul><li><code>source</code>  只读字符串，存储正则的文本</li> <li><code>global</code>  只读属性，是否全局匹配</li> <li><code>ignoreCase</code> 只读属性，是否忽略大小写</li> <li><code>multiline</code> 只读属性，是否带有修饰符m，是否多行匹配</li> <li><code>lastIndex</code> 可读可写的属性，字符串中的检索位置，<code>test/exec</code> 中会用到</li></ul> <h2 id="方法"><a href="#方法" aria-hidden="true" class="header-anchor">#</a> 方法</h2> <h3 id="test"><a href="#test" aria-hidden="true" class="header-anchor">#</a> test</h3> <ul><li>非全局匹配时
<ul><li>不会修改<code>lastIndex</code></li></ul></li> <li>全局匹配时
<ul><li>匹配成功后
<ul><li>会修改<code>lastIndex</code>为匹配到的字符的下一位</li> <li>下次调用从字符串的<code>lastIndex</code>位置开始匹配</li></ul></li> <li>匹配失败后
<ul><li>将<code>lastIndex</code>修改为0</li></ul></li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> rg <span class="token operator">=</span> <span class="token regex">/\d/g</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">,</span>rg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0 true 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">,</span>rg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1 false 0</span>
</code></pre></div><h3 id="exec"><a href="#exec" aria-hidden="true" class="header-anchor">#</a> exec</h3> <ul><li>非全局匹配
<ul><li>不会修改<code>lastIndex</code></li></ul></li> <li>全局匹配
<ul><li>匹配成功后，<code>lastIndex</code>为匹配字符的下一位</li> <li>匹配失败后，<code>lastIndex</code>重置为 0</li></ul></li></ul> <p>每次调用都会返回一个匹配结果，若没有匹配到，返回<code>null</code></p> <p>匹配到，返回一个数组，第一个参数为匹配的字符，余下参数为分组内容</p> <p>结果数组包括如下属性: <code>index</code>(匹配到的位置)，<code>input</code>(原字符串)</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> rg <span class="token operator">=</span> <span class="token regex">/\d+/g</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> res1 <span class="token operator">=</span> rg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'123abc456'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;123&quot;, index: 0, input: &quot;123abc456&quot;, groups: undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">//3</span>

<span class="token keyword">let</span> res2 <span class="token operator">=</span> rg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'123abc456'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;456&quot;, index: 6, input: &quot;123abc456&quot;, groups: undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 9</span>
</code></pre></div><h3 id="match"><a href="#match" aria-hidden="true" class="header-anchor">#</a> match</h3> <p>字符串中的方法，接收一个正则对象，不会读取和修改<code>lastIndex</code></p> <ul><li>非全局匹配
<ul><li>与<code>exec</code>方法返回结构一致</li></ul></li> <li>全局匹配
<ul><li>返回一个数组</li> <li>其中包含所有匹配的字符结构</li></ul></li> <li>没有匹配上
<ul><li>返回<code>null</code></li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'123abc456'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(\d)+/g</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//[ '123', '456' ]</span>
<span class="token string">'123abc456'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(\d)+/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//[&quot;123&quot;, &quot;3&quot;, index: 0, input: &quot;123abc456&quot;, groups: undefined]</span>
</code></pre></div><h3 id="search"><a href="#search" aria-hidden="true" class="header-anchor">#</a> search</h3> <p>字符串中的方法，接收一个正则对象，不会读取和修改<code>lastIndex</code></p> <p>返回字符串中，第一个匹配项的索引</p> <p>如果匹配不到，返回<code>-1</code></p> <p>始终从开头像后查找</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'123'</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex">/2/</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token string">'123'</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex">/4/</span><span class="token punctuation">)</span> <span class="token comment">// -1</span>
</code></pre></div><h3 id="replace"><a href="#replace" aria-hidden="true" class="header-anchor">#</a> replace</h3> <p>字符串中的方法，接收两个参数</p> <ul><li>第一个参数
<ul><li>普通字符串
<ul><li>字符串不会转化为正则对象</li> <li>无法做到全局替换</li></ul></li> <li>正则对象
<ul><li>使用 g 进行全局替换</li></ul></li></ul></li> <li>第二个参数
<ul><li>字符串
<ul><li>可使用特殊字符序列
<ul><li>$$ 指代 $</li> <li>$&amp; 指代 RegExp.lastMatch</li> <li>$' 指代 RegExp.leftContext</li> <li>$` 指代 RegExp.rightContext</li> <li>$n 指代正则所匹配的分组内容</li></ul></li></ul></li> <li>函数
<ul><li>第一个参数:
<ul><li>匹配到的子字符串</li></ul></li> <li>中间参数:
<ul><li>捕获分组的内容</li></ul></li> <li>倒数第二个参数:
<ul><li>匹配的字符串的开始索引</li></ul></li> <li>最后一个参数:
<ul><li>原始字符串</li></ul></li> <li>函数返回值
<ul><li>返回替换的字符串</li> <li>无法使用特殊字符序列</li></ul></li></ul></li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'abc123def'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/([a-z]+)/g</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// [Arguments] { '0': 'abc', '1': 'abc', '2': 0, '3': 'abc123def' }</span>
<span class="token comment">// [Arguments] { '0': 'def', '1': 'def', '2': 6, '3': 'abc123def' }</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/chenqf/technical-summary/edit/master/docs/js/正则/README.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9c603a09.js" defer></script><script src="/assets/js/2.4e45071f.js" defer></script><script src="/assets/js/7.fbbdf704.js" defer></script>
  </body>
</html>
